<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8" />

    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>Cause And Effect</title>

    <!-- Included CSS Files (Compressed) -->
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">
  </head>
  <body>

  <script type="text/x-handlebars" data-template-name="application">
      <div class="row">
          <div class="twelve columns">
              <h1>Cause And Effect</h1>
              <hr>
              <p>{{outlet}}</p>
          </div>
      </div>
      <ul>
          <li>{{#linkTo "index"}}Home{{/linkTo}}</li>
          <li>{{#linkTo "causes"}}Causes{{/linkTo}}</li>
          <li>{{#linkTo "effects"}}Effects{{/linkTo}}</li>
      </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="causes">
      <div>
          <div>
              <header id="header">
                  <h2>Causes</h2>
                  {{view Ember.TextField id="new-cause" placeholder="Enter a new cause here"
                  valueBinding="newName" action="createCause"}}
              </header>
              {{#if length}}
                  <section id="causes">
                      <ul id="cause-list">
                          {{#each filteredCauses itemController="cause"}}
                              <li {{bindAttr class="isEditing:editing"}}>
                                  {{#if isEditing}}
                                    {{view App.EditCauseView causeBinding="this"}}
                                  {{else}}asdf
                                    <label {{action "editCause" on="doubleClick"}}>Name: {{name}}</label>
                                    <button {{action "removeCause"}} class="destroy">Delete cause?</button>
                                  {{/if}}
                              </li>
                          {{/each}}
                      </ul>
                  </section>
              {{/if}}
          </div>
      </div>
  </script>

  <script type="text/x-handlebars" data-template-name="cause">
      <div>
          <div>
              {{ id }}:
              {{view Ember.TextField id="editedCauseName" placeholder=""
              valueBinding="newName" action="editCauseName" value="asdf"}}
          </div>
      </div>
  </script>

  <script type="text/x-handlebars" data-template-name="effects">
      <div>
          <div id="effects">
              {{ partial "effectMenu" }}
          </div>
      </div>
  </script>

  <script type="text/x-handlebars" data-template-name="_effectMenu">
      <h2>Effects</h2>
      {{#each effect in controller}}
      {{#linkTo "effect" effect }} {{ effect.name }}{{/linkTo}}
      {{/each}}
  </script>

  <script src="js/libs/jquery-1.8.3.min.js"></script>
    <script src="js/libs/handlebars-1.0.0.rc.2.js"></script>
    <script src="js/libs/ember.js"></script>
    <script src="js/libs/ember-data.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
